# Production Environment Configuration for WeKnora
# This is a template file. Replace placeholders with actual values.

# ========== Application Configuration ==========
APP_PORT=8080
FRONTEND_PORT=8001
GIN_MODE=release
DOCKER_TAG=1.0.0

# ========== Database Configuration ==========
DB_DRIVER=postgres
DB_HOST=postgres.prod.internal
DB_PORT=5432
DB_USER=legalmind
DB_PASSWORD=kingyan888
DB_NAME=legalscope_prod

# ========== Vector Database (Qdrant) ==========
QDRANT_HOST=qdrant.prod.internal
QDRANT_PORT=6334
QDRANT_COLLECTION=legalscope_embeddings
QDRANT_API_KEY=kingyan888
QDRANT_USE_TLS=true

# ========== Redis Cache ==========
REDIS_ADDR=redis.prod.internal:6379
REDIS_PASSWORD=kingyan888
REDIS_DB=0
REDIS_PREFIX=legalscope:

# ========== Object Storage (MinIO) ==========
MINIO_ENDPOINT=minio.prod.internal:9000
MINIO_ACCESS_KEY_ID=minioadmin
MINIO_SECRET_ACCESS_KEY=kingyan888
MINIO_BUCKET_NAME=legalscope-prod-files

# ========== Local Storage ==========
STORAGE_TYPE=local
LOCAL_STORAGE_BASE_DIR=/data/files

# ========== Tencent COS Storage (Optional) ==========
# COS_SECRET_ID=CHANGE_ME_IF_USING_COS
# COS_SECRET_KEY=CHANGE_ME_IF_USING_COS
# COS_REGION=ap-beijing
# COS_BUCKET_NAME=weknora-bucket
# COS_APP_ID=CHANGE_ME_IF_USING_COS
# COS_PATH_PREFIX=weknora/
# COS_ENABLE_OLD_DOMAIN=false

# ========== LLM Services ==========
OLLAMA_BASE_URL=http://ollama.prod.internal:11434

# ========== Elasticsearch (Optional for hybrid search) ==========
ELASTICSEARCH_ADDR=elasticsearch.prod.internal:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=CHANGE_ME_IF_USING_ES
ELASTICSEARCH_INDEX=legalscope_documents

# ========== Feature Flags ==========
DISABLE_REGISTRATION=true
ENABLE_GRAPH_RAG=true
NEO4J_ENABLE=true
NEO4J_URI=bolt://neo4j.prod.internal:7687
# Neo4j的用户名和密码
NEO4J_USERNAME=neo4j
# Neo4j的密码
NEO4J_PASSWORD=kingyan888


AUTO_RECOVER_DIRTY=true

# ========== Stream Manager ==========
# Options: redis, rabbitmq, kafka, empty (default)
STREAM_MANAGER_TYPE=redis

# ========== Retrieval Driver ==========
# Options: qdrant (default), elasticsearch, hybrid
RETRIEVE_DRIVER=qdrant

# ========== OpenTelemetry Configuration ==========
OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger.prod.internal:4317
OTEL_SERVICE_NAME=Legalscope-Production
OTEL_TRACES_EXPORTER=otlp
OTEL_METRICS_EXPORTER=none
OTEL_LOGS_EXPORTER=none
OTEL_PROPAGATORS=tracecontext,baggage

# ========== Logging ==========
LOG_LEVEL=info
LOG_FORMAT=json

# ========== Timezone ==========
TZ=Asia/Shanghai

PERPLEXITY_API_KEY=your_perplexity_api_key_here